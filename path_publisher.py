#!/usr/bin/env python
# license removed for brevity
import rospy
from std_msgs.msg import String
from gazebo_msgs.msg import ModelState
from geometry_msgs.msg import PoseArray, Pose, PoseStamped
from nav_msgs.msg import Path
from tf.transformations import quaternion_from_euler
import numpy as np



def talker():
    rospy.loginfo('init')
    rospy.init_node('path_publisher', anonymous=True)
    pub_path = rospy.Publisher('/icab1/teb_local_planner/teb_planner/local_plan2', PoseArray, queue_size=1)
    pub_path2 = rospy.Publisher('/icab1/teb_local_planner/teb_planner/local_plan', Path, queue_size=1)

    #line
    #path = [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [11, 0], [12, 0], [13, 0], [14, 0], [15, 0], [16, 0], [17, 0], [18, 0], [19, 0], [20, 0], [21, 0], [22, 0], [23, 0], [24, 0], [25, 0], [26, 0], [27, 0], [28, 0], [29, 0], [30, 0], [31, 0], [32, 0], [33, 0], [34, 0], [35, 0], [36, 0], [37, 0], [38, 0], [39, 0], [40, 0], [41, 0], [42, 0], [43, 0], [44, 0], [45, 0]]
    #square20
    #path = [[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[10,0],[10.7821700000000,0.183159121500000],[11.5450826467000,0.483409082000000],[12.2699501735000,0.893356731100000],[12.9389239363000,1.40290779700000],[13.5355315807000,1.99951544150000],[14.0450826467000,2.66848920430000],[14.4550302957000,3.39335673110000],[14.7552802563000,4.15626937780000],[15,5],[15,6],[15,7],[15,8],[15,9],[15,10],[15,11],[15,12],[15,13],[15,14],[15,15],[14.8168408785000,15.7821700000000],[14.5165909180000,16.5450826467000],[14.1066432689000,17.2699501735000],[13.5970922030000,17.9389239363000],[13.0004845585000,18.5355315807000],[12.3315107957000,19.0450826467000],[11.6066432689000,19.4550302957000],[10.8437306222000,19.7552802563000],[10,20],[9,20],[8,20],[7,20],[6,20],[5,20],[4,20],[3,20],[2,20],[1,20],[0,20],[-0.782170000000000,19.8168408785000],[-1.54508264670000,19.5165909180000],[-2.26995017350000,19.1066432689000],[-2.93892393630000,18.5970922030000],[-3.53553158070000,18.0004845585000],[-4.04508264670000,17.3315107957000],[-4.45503029570000,16.6066432689000],[-4.75528025630000,15.8437306222000],[-5,15],[-5,14],[-5,13],[-5,12],[-5,11],[-5,10],[-5,9],[-5,8],[-5,7],[-5,6],[-5,5],[-4.81684087850000,4.21783000000000],[-4.51659091800000,3.45491735330000],[-4.10664326890000,2.73004982650000],[-3.59709220300000,2.06107606370000],[-3.00048455850000,1.46446841930000],[-2.33151079570000,0.954917353300000],[-1.60664326890000,0.544969704300000],[-0.843730622200000,0.244719743700000],[-0.0615582970000000,0.0615606222000000]]
    #square30
    path = [[0,0],[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0],[8,0],[9,0],[10,0],[10.7845909573000,0.0308266627000000],[11.5643446504000,0.123116594000000],[12.3344536386000,0.276300796000000],[13.0901699437000,0.489434837000000],[13.8268343237000,0.761204674900000],[14.5399049974000,1.08993475810000],[15.2249856472000,1.47359835650000],[15.8778525229000,1.90983005630000],[16.4944804833000,2.39594034400000],[17.0710678119000,2.92893218810000],[17.6040596560000,3.50551951670000],[18.0901699437000,4.12214747710000],[18.5264016435000,4.77501435280000],[18.9100652419000,5.46009500260000],[19.2387953251000,6.17316567630000],[19.5105651630000,6.90983005630000],[19.7236992040000,7.66554636140000],[19.8768834060000,8.43565534960000],[19.9691733373000,9.21540904270000],[20,10],[20,11],[20,12],[20,13],[20,14],[20,15],[20,16],[20,17],[20,18],[20,19],[20,20],[19.9691733373000,20.7845909573000],[19.8768834060000,21.5643446504000],[19.7236992040000,22.3344536386000],[19.5105651630000,23.0901699437000],[19.2387953251000,23.8268343237000],[18.9100652419000,24.5399049974000],[18.5264016435000,25.2249856472000],[18.0901699437000,25.8778525229000],[17.6040596560000,26.4944804833000],[17.0710678119000,27.0710678119000],[16.4944804833000,27.6040596560000],[15.8778525229000,28.0901699437000],[15.2249856472000,28.5264016435000],[14.5399049974000,28.9100652419000],[13.8268343237000,29.2387953251000],[13.0901699437000,29.5105651630000],[12.3344536386000,29.7236992040000],[11.5643446504000,29.8768834060000],[10.7845909573000,29.9691733373000],[10,30],[9,30],[8,30],[7,30],[6,30],[5,30],[4,30],[3,30],[2,30],[1,30],[0,30],[-0.784590957300000,29.9691733373000],[-1.56434465040000,29.8768834060000],[-2.33445363860000,29.7236992040000],[-3.09016994370000,29.5105651630000],[-3.82683432370000,29.2387953251000],[-4.53990499740000,28.9100652419000],[-5.22498564720000,28.5264016435000],[-5.87785252290000,28.0901699437000],[-6.49448048330000,27.6040596560000],[-7.07106781190000,27.0710678119000],[-7.60405965600000,26.4944804833000],[-8.09016994370000,25.8778525229000],[-8.52640164350000,25.2249856472000],[-8.91006524190000,24.5399049974000],[-9.23879532510000,23.8268343237000],[-9.51056516300000,23.0901699437000],[-9.72369920400000,22.3344536386000],[-9.87688340600000,21.5643446504000],[-9.96917333730000,20.7845909573000],[-10,20],[-10,19],[-10,18],[-10,17],[-10,16],[-10,15],[-10,14],[-10,13],[-10,12],[-10,11],[-10,10],[-9.96917333730000,9.21540904270000],[-9.87688340600000,8.43565534960000],[-9.72369920400000,7.66554636140000],[-9.51056516300000,6.90983005630000],[-9.23879532510000,6.17316567630000],[-8.91006524190000,5.46009500260000],[-8.52640164350000,4.77501435280000],[-8.09016994370000,4.12214747710000],[-7.60405965600000,3.50551951670000],[-7.07106781190000,2.92893218810000],[-6.49448048330000,2.39594034400000],[-5.87785252290000,1.90983005630000],[-5.22498564720000,1.47359835650000],[-4.53990499740000,1.08993475810000],[-3.82683432370000,0.761204674900000],[-3.09016994370000,0.489434837000000],[-2.33445363860000,0.276300796000000],[-1.56434465040000,0.123116594000000],[-0.784590957300000,0.0308266627000000]]
    #trajectory
    #path = [[0,0],[0.854261813100000,0.00428233000000000],[1.18151272870000,-0.0254311810000000],[1.61409517840000,-0.00335998650000000],[1.98991529160000,0.0524205144000000],[2.43274456610000,0.0863447037000000],[2.88797599200000,0.0966397168000000],[3.34859409780000,0.129961160600000],[3.74986560340000,0.150310395800000],[4.17310518230000,0.163200097200000],[4.56699475370000,0.166054860000000],[5.04427415820000,0.265597462900000],[5.53808628600000,0.261320861700000],[6.08598392720000,0.295771775800000],[6.60974552660000,0.338100392600000],[7.14542796440000,0.365391400200000],[7.67505000970000,0.334614065600000],[8.32371422070000,0.364221994700000],[8.93526747430000,0.378767782200000],[9.55360678050000,0.382448014900000],[10.1832079318000,0.399554261900000],[10.8419353774000,0.375267207800000],[11.5092196276000,0.414765432200000],[12.1993525039000,0.416787026500000],[12.8712187964000,0.405023192800000],[13.5502492723000,0.387545277200000],[14.2220738691000,0.390712020700000],[14.9267760867000,0.429061870100000],[15.6661407779000,0.405299028200000],[16.3778032770000,0.432095301700000],[17.1491594888000,0.427719699400000],[17.8821894248000,0.410103327900000],[18.6377589438000,0.409119017900000],[19.3675903807000,0.404160485300000],[20.1194874824000,0.391914879100000],[20.9341513690000,0.421324228500000],[21.7031549449000,0.365039801000000],[22.5212306226000,0.406047630400000],[23.1809814499000,0.383896157500000],[23.9707936821000,0.429163802100000],[24.7655779508000,0.409267937800000],[25.4593100735000,0.438303785700000],[26.2141120671000,0.436390313900000],[26.9707606299000,0.481183596400000],[27.7475524166000,0.468912896800000],[28.5218258537000,0.496159840800000],[29.3433437548000,0.539579462900000],[30.0659374931000,0.560095545800000],[30.7408064828000,0.611705536000000],[31.4906139921000,0.618050231200000],[32.2153414177000,0.625513297700000],[32.9492189177000,0.679105394500000],[33.7987031439000,0.704824621800000],[34.5822469062000,0.741230263600000],[35.3536702202000,0.765502780800000],[36.0316068346000,0.772112007200000],[36.8300680661000,0.803279099900000],[37.6710418533000,0.833239134000000],[38.3956724332000,0.831490556600000],[39.1889366838000,0.810095752500000],[39.8850641967000,0.782096685900000],[40.7318929811000,0.787802511800000],[41.4866871668000,0.799893800500000],[42.2390719508000,0.785780610700000],[42.9293366167000,0.763090173800000],[43.6988944830000,0.797808242000000],[44.4483220258000,0.847236846800000],[45.1712468276000,0.844606040700000],[45.9737480465000,0.888465994400000],[46.7842000311000,0.941445516600000],[47.5463240815000,0.975563835900000],[48.2979578397000,0.977651827200000],[49.0454547677000,1.02314092040000],[49.7658167593000,1.04725696060000],[50.5310158542000,1.13703476660000],[51.3127106317000,1.18590348200000],[52.0650425436000,1.32411136970000],[52.7359962843000,1.28390513300000],[53.3993251610000,1.28339090420000],[54.0965387423000,1.42939638340000],[54.7651632541000,1.46966890740000],[55.5000488367000,1.49170087570000],[56.3593279664000,1.50301842640000],[56.9300004767000,1.50567624510000],[57.6041126015000,1.43059445640000],[58.3792450571000,1.27579965870000],[58.9059643816000,1.14703332900000],[59.4964161822000,0.997842254100000],[60.0662619675000,0.735376193800000],[60.5321736597000,0.549589913400000],[60.9062219030000,0.403470326000000],[61.2001787134000,0.201659025500000],[61.5470970619000,-0.00318511620000000],[61.7880705853000,-0.161196768100000],[62.1127565071000,-0.329067418200000],[62.3624544897000,-0.513764253100000],[62.5827993193000,-0.643823435400000],[62.7363617088000,-0.839582485800000],[62.9377030956000,-0.976222474000000],[63.2438127200000,-1.24831607570000],[63.4762408806000,-1.47624764220000],[63.6704383955000,-1.72513547950000],[63.9501557746000,-2.02265628480000],[64.1648457950000,-2.22924325290000],[64.3608602667000,-2.46173383360000],[64.4944557940000,-2.69415455160000],[64.6515248784000,-2.96449454580000],[64.8402690699000,-3.19825233760000],[65.0025581714000,-3.52650951440000],[65.0589071306000,-3.85305199480000],[65.1786575137000,-4.18521995670000],[65.3110363587000,-4.57748584630000],[65.3525619537000,-5.01810807840000],[65.4306998882000,-5.42523654270000],[65.5560669419000,-5.85819899850000],[65.6704315184000,-6.27571427610000],[65.7077816723000,-6.72614756880000],[65.6703393042000,-7.15827075720000],[65.6385923424000,-7.68314178220000],[65.6469552039000,-8.21817577720000],[65.7097538442000,-8.77433015780000],[65.7835252473000,-9.25343517630000],[65.7460572973000,-9.75899455890000],[65.7480656109000,-10.3103185278000],[65.7827803571000,-10.8906556370000],[65.7931377294000,-11.3889122348000],[65.7839368496000,-11.8937098621000],[65.8451171116000,-12.4190969437000],[65.8796497890000,-12.9064242144000],[65.9142478570000,-13.4163571064000],[65.8747557092000,-13.9966155332000],[65.8927550998000,-14.5171189732000],[65.9550944956000,-14.9959116606000],[65.9328005354000,-15.5077694711000],[65.9108983202000,-16.0755034529000],[65.9605697022000,-16.6149043195000],[65.9891558942000,-17.1866283122000],[65.9781125987000,-17.7100087773000],[65.9809396150000,-18.2362005362000],[65.9895109559000,-18.8082248648000],[66.0232801981000,-19.3574310084000],[66.0274823618000,-19.8745543143000],[66.0504161183000,-20.4225574541000],[66.0642585039000,-20.9431659436000],[66.0800384942000,-21.4652576891000],[66.0956347148000,-21.9409723079000],[66.1112484678000,-22.3263973316000],[66.1176797083000,-22.6430631742000],[66.1318305919000,-22.9820795351000],[66.1662878297000,-23.3303064000000],[66.1986413521000,-23.6669515987000],[66.2097870189000,-23.9134225408000],[66.2120014653000,-24.2075549595000],[66.2711739709000,-24.5705044978000],[66.3070778431000,-24.9450082393000],[66.4171384497000,-25.2860680711000],[66.5074471174000,-25.7358099513000],[66.6343842887000,-26.1888952298000],[66.7995764726000,-26.6475910605000],[66.9481844174000,-27.1021227044000],[67.1244055148000,-27.6255386942000],[67.3241522041000,-28.1743687873000],[67.5146359895000,-28.6269079705000],[67.7049124152000,-29.0898096619000],[67.9815423425000,-29.5769712217000],[68.2802127695000,-30.0318784831000],[68.5851231398000,-30.4812730557000],[68.8065969723000,-30.9266652723000],[69.0097915995000,-31.3250978893000],[69.2113331777000,-31.5931460375000],[69.4393183760000,-31.8708892182000],[69.5555651459000,-32.1032832890000],[69.7124716994000,-32.3028475629000],[69.8909562396000,-32.5440208686000],[70.0810449346000,-32.8607849450000],[70.3774269632000,-33.2085429406000],[70.6385520953000,-33.6658158950000],[70.8779662495000,-34.1090824504000],[71.2178651697000,-34.4938694862000],[71.4903550645000,-34.9389877836000],[71.7935134063000,-35.3841000892000],[72.1523463994000,-35.7663230637000],[72.5336190069000,-36.2395366535000],[72.9174760816000,-36.6684949023000],[73.3361739731000,-37.0619902544000],[73.8549829824000,-37.5242048819000],[74.3766368702000,-37.9961211128000],[74.9338094235000,-38.3600855291000],[75.5453500845000,-38.7916191465000],[76.0563318904000,-39.2366728497000],[76.6526989220000,-39.7287293547000],[77.2233705535000,-40.1621924169000],[77.8114031680000,-40.6038502533000],[78.4387283397000,-40.9753070895000],[79.0985702181000,-41.3115112938000],[79.7415654191000,-41.6483663803000],[80.4049305557000,-41.9608762581000],[81.0911111815000,-42.2415328850000],[81.7296820523000,-42.3729516470000],[82.3541604821000,-42.4811030317000],[82.9532192989000,-42.5586365003000],[83.5153674594000,-42.6069561887000],[83.9934307601000,-42.6950929788000],[84.4655352812000,-42.7405155714000],[84.9335764632000,-42.7619435392000],[85.3563478292000,-42.7493779871000],[85.7880939428000,-42.6574838172000],[86.1599640782000,-42.6201268522000],[86.5207311868000,-42.6075653645000],[86.8136703982000,-42.5970519927000],[87.0711520372000,-42.5484922981000]]
    #eight
    #path = [[0,0],[1.74311485500000,0.0761060382000000],[3.47296355330000,0.303844939800000],[5.17638090210000,0.681483474200000],[6.84040286650000,1.20614758430000],[8.45236523480000,1.87384425930000],[10,2.67949192430000],[11.4715287270000,3.61695911420000],[12.8557521937000,4.67911113760000],[14.1421356237000,5.85786437630000],[15.3208888624000,7.14424780630000],[16.3830408858000,8.52847127300000],[17.3205080757000,10],[18.1261557407000,11.5476347652000],[18.7938524157000,13.1595971335000],[19.3185165258000,14.8236190979000],[19.6961550602000,16.5270364467000],[19.9238939618000,18.2568851450000],[20,20],[19.9238939618000,21.7431148550000],[19.6961550602000,23.4729635533000],[19.3185165258000,25.1763809021000],[18.7938524157000,26.8404028665000],[18.1261557407000,28.4523652348000],[17.3205080757000,30],[16.3830408858000,31.4715287270000],[15.3208888624000,32.8557521937000],[14.1421356237000,34.1421356237000],[12.8557521937000,35.3208888624000],[11.4715287270000,36.3830408858000],[10,37.3205080757000],[8.45236523480000,38.1261557407000],[6.84040286650000,38.7938524157000],[5.17638090210000,39.3185165258000],[3.47296355330000,39.6961550602000],[1.74311485500000,39.9238939618000],[1.22464679914735e-15,40],[-1.74311485500000,39.9238939618000],[-3.47296355330000,39.6961550602000],[-5.17638090210000,39.3185165258000],[-6.84040286650000,38.7938524157000],[-8.45236523480000,38.1261557407000],[-10,37.3205080757000],[-11.4715287270000,36.3830408858000],[-12.8557521937000,35.3208888624000],[-14.1421356237000,34.1421356237000],[-15.3208888624000,32.8557521937000],[-16.3830408858000,31.4715287270000],[-17.3205080757000,30],[-18.1261557407000,28.4523652348000],[-18.7938524157000,26.8404028665000],[-19.3185165258000,25.1763809021000],[-19.6961550602000,23.4729635533000],[-19.9238939618000,21.7431148550000],[-20,20],[-19.9238939618000,18.2568851450000],[-19.6961550602000,16.5270364467000],[-19.3185165258000,14.8236190979000],[-18.7938524157000,13.1595971335000],[-18.1261557407000,11.5476347652000],[-17.3205080757000,10],[-16.3830408858000,8.52847127300000],[-15.3208888624000,7.14424780630000],[-14.1421356237000,5.85786437630000],[-12.8557521937000,4.67911113760000],[-11.4715287270000,3.61695911420000],[-10,2.67949192430000],[-8.45236523480000,1.87384425930000],[-6.84040286650000,1.20614758430000],[-5.17638090210000,0.681483474200000],[-3.47296355330000,0.303844939800000],[-1.74311485500000,0.0761060382000000],[-3.67394039744206e-15,0],[1.74311485500000,-0.0761060382000000],[3.47296355330000,-0.303844939800000],[5.17638090210000,-0.681483474200000],[6.84040286650000,-1.20614758430000],[8.45236523480000,-1.87384425930000],[10,-2.67949192430000],[11.4715287270000,-3.61695911420000],[12.8557521937000,-4.67911113760000],[14.1421356237000,-5.85786437630000],[15.3208888624000,-7.14424780630000],[16.3830408858000,-8.52847127300000],[17.3205080757000,-10],[18.1261557407000,-11.5476347652000],[18.7938524157000,-13.1595971335000],[19.3185165258000,-14.8236190979000],[19.6961550602000,-16.5270364467000],[19.9238939618000,-18.2568851450000],[20,-20],[19.9238939618000,-21.7431148550000],[19.6961550602000,-23.4729635533000],[19.3185165258000,-25.1763809021000],[18.7938524157000,-26.8404028665000],[18.1261557407000,-28.4523652348000],[17.3205080757000,-30],[16.3830408858000,-31.4715287270000],[15.3208888624000,-32.8557521937000],[14.1421356237000,-34.1421356237000],[12.8557521937000,-35.3208888624000],[11.4715287270000,-36.3830408858000],[10,-37.3205080757000],[8.45236523480000,-38.1261557407000],[6.84040286650000,-38.7938524157000],[5.17638090210000,-39.3185165258000],[3.47296355330000,-39.6961550602000],[1.74311485500000,-39.9238939618000],[1.22464679914735e-15,-40],[-1.74311485500000,-39.9238939618000],[-3.47296355330000,-39.6961550602000],[-5.17638090210000,-39.3185165258000],[-6.84040286650000,-38.7938524157000],[-8.45236523480000,-38.1261557407000],[-10,-37.3205080757000],[-11.4715287270000,-36.3830408858000],[-12.8557521937000,-35.3208888624000],[-14.1421356237000,-34.1421356237000],[-15.3208888624000,-32.8557521937000],[-16.3830408858000,-31.4715287270000],[-17.3205080757000,-30],[-18.1261557407000,-28.4523652348000],[-18.7938524157000,-26.8404028665000],[-19.3185165258000,-25.1763809021000],[-19.6961550602000,-23.4729635533000],[-19.9238939618000,-21.7431148550000],[-20,-20],[-19.9238939618000,-18.2568851450000],[-19.6961550602000,-16.5270364467000],[-19.3185165258000,-14.8236190979000],[-18.7938524157000,-13.1595971335000],[-18.1261557407000,-11.5476347652000],[-17.3205080757000,-10],[-16.3830408858000,-8.52847127300000],[-15.3208888624000,-7.14424780630000],[-14.1421356237000,-5.85786437630000],[-12.8557521937000,-4.67911113760000],[-11.4715287270000,-3.61695911420000],[-10,-2.67949192430000],[-8.45236523480000,-1.87384425930000],[-6.84040286650000,-1.20614758430000],[-5.17638090210000,-0.681483474200000],[-3.47296355330000,-0.303844939800000],[-1.74311485500000,-0.0761060382000000],[0,0]]

    #other paths
    #     #path = [[0, 0], [5, 0], [10, 0], [15, 0], [20, 0], [25, 0], [30, 0], [35, 0], [40, 0], [45, 0], [50, 0], [55, 0], [60, 0.500000000000000], [67, 7], [69, 14], [69, 21], [69, 30], [85, 42]]
    #path = [[0, 0], [5, 0], [10, 0], [15, 0], [20, 0], [25, 0], [30, 0], [35, 0], [40, 0], [45, 0], [50, 0], [55, 0], [60, 0.5], [60.5, 1.0], [61, 1.5], [62, 2], [63, 2.5], [64, 3], [65, 3.5], [66, 4], [66.5, 4.5], [67, 7], [69, 7.5], [70, 8], [71, 8.5], [72, 9], [73, 10], [74, 10.5], [75, 11], [76, 11.5], [77, 12], [78, 12.5], [79, 13], [80, 13.5], [81, 14], [82, 14.5], [83, 15], [84, 15.5]]

    #path = [[0, -11], [5, -11], [10, -11], [15, -11], [20, -11], [25, -11], [30, -11], [35, -11], [40, -11], [45, -11], [50, -11], [55, -11], [60, -10.500000000000000], [67, -4], [69, 3], [69, 10], [69, 19], [85, 31]]
    #path = [[4, -11], [10, -11], [17, -11], [25, -11], [25, 5],
    #        [25, 10], [25, 12], [25, 15], [25, 10], [33, 10]]

    #path = [[0, 0], [0, 1], [0, 2], [0, 3], [0, 4], [0, 5], [0, 6], [0, 7], [0, 8], [0, 9], [0, 10], [0, 11], [0, 12], [0, 13], [0, 14], [0, 15], [0, 16], [0, 17], [0, 18], [0, 19], [0, 20], [0, 21], [0, 22], [0, 23], [0, 24], [0, 25], [0, 26], [0, 27], [0, 28], [0, 29], [0, 30], [0, 31], [0, 32], [0, 33], [0, 34], [0, 35], [0, 36], [0, 37], [0, 38], [0, 39], [0, 40], [0, 41], [0, 42], [0, 43], [0, 44], [0, 45]]
    #path = [[0, 0], [0, 5], [0, 10], [0, 15], [0, 20], [0, 25], [0, 30], [0, 35], [0, 40], [0, 45], [0, 50], [0, 55], [0.500000000000000, 60], [7, 67], [14, 69], [21, 69], [30, 69], [42, 85]]
    #path = [[0, 0], [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0], [9, 0], [10, 0], [10.7000000000000, 0.300000000000000], [11, 1], [11, 2], [11, 3], [11, 4], [11, 5], [11, 6], [11, 7], [11, 8], [11, 9], [10.7000000000000, 9.70000000000000], [10, 10], [9, 10], [8, 10], [7, 10], [6, 10], [5, 10], [4, 10], [3, 10], [2, 10], [1, 10], [0.300000000000000, 9.70000000000000], [0, 9], [0, 8], [0, 7], [0, 6], [0, 5], [0, 4], [0, 3], [0, 2], [0, 1]]

    #path = [[4, -4.5000000], [10, -4.5000000], [17, -4.5000000], [25, 0], [33, 5],
    #        [41, 10], [49, 10], [56, 10], [63, 10], [70, 10]]

    #path = [[4, -4.5000000], [10, -4.5000000], [17, -4.5000000], [25, -5.3750000], [33, -6.2500000],
    #        [41, -7.1250000], [49, -8], [56, -8], [63, -8], [70, -8]]

    #path = [[-179, -8], [-175, -8], [-171, -8], [-167, -8], [-163, -8], [-159, -8], [-155, -8], [-151, -8], [-147, -8],
    #        [-143, -8], [-139, -8], [-135, -8], [-131, -8], [-127, -7.1250000], [-123, -6.2500000], [-119, -5.3750000],
    #        [-113, -4.5000000], [-106, -4.5000000], [-99, -4.5000000], [-92, -4.5000000], [-84, -4.5000000],
    #        [-76, -4.5000000], [-68, -4.5000000], [-60, -4.5000000], [-52, -4.5000000], [-45, -4.5000000],
    #        [-38, -4.5000000], [-31, -4.5000000], [-24, -4.5000000], [-17, -4.5000000], [-10, -4.5000000],
    #        [-3, -4.5000000], [4, -4.5000000], [10, -4.5000000], [17, -4.5000000], [25, -5.3750000], [33, -6.2500000],
    #        [41, -7.1250000], [49, -8], [56, -8], [63, -8], [70, -8]]

    posearray = PoseArray()
    posearray.header.stamp = rospy.get_rostime()
    posearray.header.frame_id = "map"
    path_msg = Path()
    path_msg.header = posearray.header

    for i in range(np.shape(path)[0] - 2):
        pose = Pose()
        posestamped = PoseStamped()
        pose.position.x = path[i][0]
        pose.position.y = path[i][1]
        pose.position.z = 0
        angle = -np.arctan2(path[i+1][0] - path[i][0], path[i+1][1] - path[i][1]) + 1.57
        pose.orientation.x = quaternion_from_euler(0, 0, angle)[0]
        pose.orientation.y = quaternion_from_euler(0, 0, angle)[1]
        pose.orientation.z = quaternion_from_euler(0, 0, angle)[2]
        pose.orientation.w = quaternion_from_euler(0, 0, angle)[3]
        posearray.poses.append(pose)
        posestamped.pose = pose
        posestamped.header = path_msg.header
        path_msg.poses.append(posestamped)

    pub_path.publish(posearray)
    pub_path2.publish(path_msg)
    rospy.sleep(0.1)
    pub_path.publish(posearray)
    pub_path2.publish(path_msg)
    rospy.sleep(0.1)
    pub_path.publish(posearray)
    pub_path2.publish(path_msg)
    for j in range(5):
        pub_path.publish(posearray)
        pub_path2.publish(path_msg)
        rospy.sleep(0.1)

if __name__ == '__main__':
    try:
        talker()
    except rospy.ROSInterruptException:
        pass
    rospy.signal_shutdown('End')
